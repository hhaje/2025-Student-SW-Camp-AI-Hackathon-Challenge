# CashRide 점수 시스템 상세 문서

## 📊 안전 점수 및 안전 포인트 산출 공식

### 🎯 안전 점수 계산
```
안전 점수 = 100 - 패널티 + 보너스
```
- **기본 점수**: 100점
- **최대 점수**: 120점 (패널티가 0일 때만 100점 초과 가능)
- **최소 점수**: 0점
- **특별 의미**: 100점 초과 = 패널티 없는 완벽한 운행

### 💎 안전 포인트 계산 (수정된 공식)
```
정규화 점수 = min(안전점수, 100) / 100
보너스 점수 = max(0, 안전점수 - 100) / 20
기본 포인트 = (정규화점수² + 보너스점수) × 0.2 × 100
거리 포인트 = 기본포인트 × 주행거리 × 0.5
액션 보너스 = 긍정적행동수 × 2
콤보 배율 = 1.0 + (연속횟수 × 0.05), 최대 2.0배
최종 포인트 = (거리포인트 + 액션보너스) × 콤보배율 × 레벨보너스
```

**조건**:
- **최소 지급 기준**: 안전 점수 40점 이상
- **40점 미만**: 포인트 지급 없음
- **연속 콤보**: 5%씩 증가, 최대 2배까지

### 🔥 연속 안전운행 콤보
- **콤보 유지 조건**: 80점 이상
- **콤보 초기화**: 80점 미만 시 연속 기록 리셋
- **콤보 배율**: 연속 횟수에 따른 보너스 적용

---

## 📱 운행 종료 시 사용자 화면

### 🎉 라이딩 리포트 UI

```
##  RIDING REPORT

안전한 주행을 완료해주셔서 감사합니다.
당신의 라이딩 리포트가 도착했어요!

---

📊 주행 요약
• 총 주행거리: 2.5 km
• 평균 시속: 15.2 km/h
• 주요 안전 행동: 완벽한 멈춤 (2회) ✅

---

💯 이번 운행 안전 점수
# 90점
*아주 훌륭한 주행이었어요!*

---

✨ 146 포인트 획득! ✨
• 점수 포인트: 45 SP (90점 × 0.5)
• 액션 보너스: +20 SP
• 거리 보너스: × 1.5
• 연속 탑승 콤보: × 1.5 🔥
```

---

## ⚠️ 패널티 액션 목록

### 🚨 **Zone 과속**
- **감점**: -15점
- **설명**: 어린이/노인 보호구역 등 안전 Zone에서 제한 속도 초과
- **감지 방법**: GPS + 속도 센서

### ⚠️ **급감속**
- **감점**: -10점  
- **설명**: 1초 내 a km/h 이상 속도 감소
- **감지 방법**: 가속도 센서

### ⚠️ **급출발**
- **감점**: -10점
- **설명**: 1초 내 b km/h 이상 속도 증가  
- **감지 방법**: 가속도 센서

### ⛔️ **주행 중 폰 사용**
- **감점**: -20점
- **설명**: 주행 중 스마트폰 움직임이 지속적으로 감지될 때
- **감지 방법**: 자이로스코프 + 터치 이벤트

### 🚧 **불법 주차**
- **감점**: -25점
- **설명**: 주행 종료 시, 지정된 주차 구역이 아닐 경우
- **감지 방법**: GPS + 주차구역 데이터베이스

---

## ✅ 보너스 액션 목록

### 👏 **완벽한 정지**
- **보너스**: +10점
- **설명**: 횡단보도 정지선 2m 이내에서 2초 이상 완전히 정지
- **감지 방법**: GPS + 속도 센서

### 👍 **안전 Zone 서행**
- **보너스**: +5점
- **설명**: 안전 Zone 전 구간을 제한속도 80% 이하로 통과
- **감지 방법**: GPS + 속도 센서

### 🅿️ **추천 주차구역 이용**
- **보너스**: +15점
- **설명**: 앱에서 추천하는 '주차 명당'에 주차 완료 시
- **감지 방법**: GPS + 주차구역 데이터베이스

---

## 🏆 배지 시스템

### 연속 안전운행 배지
- **🔥 안전왕 5연속**: 5회 연속 80점 이상
- **⭐ 안전왕 10연속**: 10회 연속 80점 이상
- **👑 안전왕 20연속**: 20회 연속 80점 이상

### 포인트 배지
- **💎 포인트 마스터**: 총 100포인트 달성
- **🚀 포인트 킹**: 총 500포인트 달성
- **🌟 포인트 레전드**: 총 1000포인트 달성

### 특별 행동 배지
- **🛑 정지선 마스터**: 완벽한 정지 10회
- **🐌 안전구간 수호자**: 안전 Zone 서행 20회
- **🅿️ 주차 달인**: 추천 주차구역 이용 15회

---

## 📈 레벨 시스템

### 사용자 레벨
- **새내기 라이더** (0-99 포인트)
- **안전 라이더** (100-299 포인트)  
- **베테랑 라이더** (300-699 포인트)
- **마스터 라이더** (700-1499 포인트)
- **레전드 라이더** (1500+ 포인트)

### 레벨별 혜택
- **포인트 적립률 증가**
- **특별 쿠폰 제공**
- **프리미엄 주차구역 이용권**
- **전용 고객센터 지원**

---

## 🎮 게임화 요소

### 일일 챌린지
- 📅 **오늘의 미션**: 매일 다른 안전운전 목표
- 🎯 **주간 챌린지**: 일주일간 지속되는 특별 미션
- 🏁 **월간 이벤트**: 한 달간의 대형 이벤트

### 소셜 기능
- 👥 **친구와 비교**: 안전점수 및 배지 비교
- 🏆 **리더보드**: 지역/전국 안전운전 순위
- 📸 **배지 자랑하기**: SNS 공유 기능

---

*마지막 업데이트: 2025-01-20*
